{"version":3,"sources":["components/Navbar/Navbar.module.css","serviceWorker.js","components/Sidebar/Sidebar.tsx","api/users-api.ts","redux/sidebar-reducer.ts","components/Sidebar/SidebarContainer.tsx","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","utils/object-helpers.ts","redux/users-reducer.ts","redux/users-selectors.ts","components/Users/Users.tsx","components/Users/UsersContainerWithHooks.tsx","components/Header/Header.tsx","api/auth-api.ts","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","assets/images/preload.gif","components/common/Preload/Preload.tsx","components/Users/Users.module.css","components/Sidebar/Sidebar.module.css","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","api/api.ts","api/profile-api.ts","redux/profile-reducer.ts","assets/images/images.jpg","redux/dialogs-reducer.ts"],"names":["module","exports","Boolean","window","location","hostname","match","MyFriends","props","className","s","friend","src","photos","large","name","status","Sidebar","friendsElement","friends","map","p","id","sidebar","friendsLine","usersApi","getUsers","pageSize","currentPage","term","instance","get","then","response","data","getFollow","post","getUnfollow","delete","getMyFollowUsers","initialState","action","type","sidebarReducer","state","compose","connect","dispatch","a","items","useEffect","Navbar","nav","cn","item","main","to","onFocus","activeClassName","activeLink","News","Music","Settings","Paginator","React","memo","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionNumber","paginatorPage","onClick","filter","selectedPage","pageNumber","User","user","followingInProgress","unfollow","follow","imgGroup","userPhoto","followed","disabled","some","userInfo","usersSearchFormValidate","values","UsersSearchForm","initialValues","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","as","value","updateObjectInArray","itemId","objPropName","newObjProps","u","users","totalUsersCount","isFetching","page","payload","count","requestUsers","totalCount","console","log","usersReducer","userId","getUser","createSelector","usersPage","getTotalUsersCount","getPageSize","getCurrentPage","getFollowingInProgress","getUsersSearchFilter","getIsFetching","Users","useSelector","useDispatch","numberPage","UsersContainer","Preload","Header","header","loginBlock","isAuth","login","logout","authApi","inicialState","email","captchaUrl","undefined","getAuthUserData","resultCode","ResultCodeEnum","Success","authReducer","HeaderContainer","this","Component","auth","initialized","appReducer","rootReducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","app","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","WrappedComponent","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","ProfileSuspensed","DialogsSuspensed","LoginSuspensed","AppContainer","initializeApp","withRouter","catchAllUnhandledErrors","event","reason","addEventListener","exact","path","render","component","SamuraiJSApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","Preloader","preload","ResultCodeForCaptchaEnum","axios","create","withCredentials","headers","baseURL","profileApi","put","profile","photoFile","formData","FormData","append","posts","likeCount","newPostText","addPost","setUserProfile","setStatus","deletePost","savePhotoSuccess","getUserProfile","getStatus","updateStatus","savePhoto","file","saveProfile","getState","Error","stopSubmit","_error","messages","Promise","reject","newPost","myMessages","friendsMessages","dialogs","newMessageBody","sendMessage","newMessage","body"],"mappings":"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","file":"static/js/main.4600457d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2sYKJ\",\"item\":\"Navbar_item__2Fp4W\",\"main\":\"Navbar_main__9PS8q\",\"activeLink\":\"Navbar_activeLink__12H4A\",\"sidebar\":\"Navbar_sidebar__3D5QQ\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { PhotosType, UserType } from '../../type/type'\r\nimport s from './Sidebar.module.css'\r\nimport {UserSidebarType} from './SidebarContainer'\r\n\r\nconst MyFriends: React.FC<UserSidebarType> = (props) => {\r\n\r\n\r\n    return (\r\n        <div className={s.friend}>\r\n            <div>\r\n                <img src={props.photos.large != null ? props.photos.large :\r\n                          props.photos.large = 'data:image/jpeg;base64,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'}/>\r\n                \r\n            </div>    \r\n            <div>\r\n                {props.name}\r\n            </div>\r\n            <div>\r\n                {props.status}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarPropsType> = (props) => {\r\n\r\n    let friendsElement = props.friends.map( p => (<MyFriends name={p.name} key={p.id} id={p.id} status={p.status} photos={p.photos}/>))\r\n    \r\n    return (\r\n        \r\n        <div className={s.sidebar}>\r\n            <h3>MY FRIENDS</h3>\r\n            <div className={s.friendsLine} >\r\n                {friendsElement}\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\nexport default Sidebar\r\n\r\ntype SidebarPropsType = {\r\n    friends: Array<UserSidebarType>\r\n}\r\ntype MyFriendsPropsType = {\r\n    status: string\r\n    id: number\r\n    name: string\r\n    photos: PhotosType\r\n}","import { AxiosPromise, AxiosResponse } from \"axios\"\r\nimport { UserType } from \"../type/type\"\r\nimport { instance, ApiResponseType } from \"./api\"\r\n\r\nexport const usersApi = {\r\n    \r\n    getUsers(pageSize: number = 10, currentPage: number = 1, term: string = '', friend: null | boolean = null ) {\r\n        debugger\r\n        return instance.get<GetItemsType>\r\n            (`users?count=${pageSize}&page=${currentPage}&term=${term}` + (friend !== null ? `&friend=${friend}`: ''))\r\n        \r\n        .then (response => response.data)\r\n    },\r\n\r\n    getFollow(id: number) {\r\n        return instance.post<ApiResponseType>(`follow/${id}`)\r\n        .then (response => response.data)\r\n    },\r\n    getUnfollow(id: number) {\r\n        \r\n        return instance.delete(`follow/${id}`)\r\n        .then (response => response.data) as Promise<ApiResponseType>\r\n    },\r\n    getMyFollowUsers() {\r\n        return instance.get<GetItemsType>(`users?count=3&page=1&friend=true`)\r\n        .then (response => response.data)\r\n    }\r\n\r\n}\r\n\r\ntype GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}","import { UserSidebarType } from '../components/Sidebar/SidebarContainer';\r\nimport { usersApi } from './../api/users-api';\r\nimport { UserType } from './../type/type';\r\nimport { BaseThunkType, InferActionType } from \"./redux-store\"\r\n\r\nexport let initialState = {\r\n\r\n  friends: [] as Array<UserSidebarType>\r\n}\r\n\r\nexport const sidebarReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n  switch (action.type) {\r\n    \r\n    case 'SN/SIDEBAR/GET_FOLLOW_FRIENDS':\r\n      \r\n      return {\r\n        ...state,\r\n        friends: action.friends\r\n      }\r\n    default :\r\n      return state\r\n  }\r\n}\r\nexport const action = {\r\n  setFollowUsers: (friends: Array<UserType>) => ({ type: 'SN/SIDEBAR/GET_FOLLOW_FRIENDS', friends } as const)\r\n}\r\n\r\nexport const getMyFollowUsers = (friends: Array<UserSidebarType>): ThunkType => async(dispatch) => {\r\n  let data = await usersApi.getMyFollowUsers()\r\n \r\n  dispatch(action.setFollowUsers(data.items)) \r\n}\r\n\r\n\r\n\r\n\r\nexport default sidebarReducer\r\n\r\n\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionType = InferActionType<typeof action>\r\nexport type ThunkType = BaseThunkType<ActionType>","import React, { FC, useEffect } from 'react'\r\nimport Sidebar from './Sidebar'\r\nimport { getMyFollowUsers, ThunkType } from \"../../redux/sidebar-reducer\"\r\nimport { connect } from 'react-redux'\r\nimport { AppStateType } from '../../redux/redux-store'\r\nimport { UserType, PhotosType } from '../../type/type'\r\nimport { compose } from 'redux'\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    \r\n    return {\r\n        friends: state.sidebar.friends\r\n    }\r\n}\r\n\r\n\r\nconst SidebarContainer: FC<PropsType> = (props) => {\r\n    useEffect(() => {\r\n        \r\n        props.getMyFollowUsers(props.friends)\r\n    }, [])\r\n    return <Sidebar friends={props.friends}/>\r\n}\r\n\r\n \r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps,{getMyFollowUsers}))\r\n    (SidebarContainer)\r\n\r\ntype MapStatePropsType = {\r\n    friends: Array<UserSidebarType>\r\n}\r\ntype MapDispatchPropsType = {\r\n    getMyFollowUsers: (friends: Array<UserSidebarType>) => ThunkType\r\n}\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\nexport type UserSidebarType = {\r\n        id: number\r\n        name: string\r\n        status: string\r\n        photos: PhotosType\r\n}","import React from 'react'\r\nimport s from './Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport SidebarContainer from '../Sidebar/SidebarContainer'\r\nimport cn from 'classnames'\r\n\r\n\r\nconst Navbar: React.FC<PropsType> = () => {\r\n    \r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={cn(s.item, s.main)}>\r\n                <NavLink to='/profile'  onFocus={() =>{}} activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.sidebar}`}>\r\n                <SidebarContainer  />\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar\r\n\r\ntype PropsType = {}","import React from 'react'\r\n\r\nconst News = () => {\r\n    return (\r\n    <div>\r\n        News\r\n    </div>)\r\n}\r\nexport default News","import React from 'react'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music","import React from 'react'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings","import React, { FC, useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Paginator:FC<PropsType> = React.memo(({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages: Array<number> = []\r\n    for (let i=1; i<=pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    \r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState<number>(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionNumber = portionNumber * portionSize\r\n    return (   \r\n    <div className={s.paginatorPage}>\r\n        { portionNumber > 1 && \r\n        <button onClick={() => { setPortionNumber(portionNumber-1)}}>PREV</button>}\r\n        { pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionNumber)\r\n            .map( p => { return <span key={p} className={ cn(\r\n                {[s.selectedPage] : currentPage === p }, s.pageNumber )} \r\n                onClick={() => {onPageChanged(p)}}>{p}</span>})\r\n        }\r\n        {portionCount > portionNumber && \r\n            <button onClick={() => { setPortionNumber(portionNumber + 1)}} >NEXT</button>}\r\n\r\n    </div>)\r\n})\r\n\r\nexport default Paginator\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged:(pageNumber: number) => void\r\n    portionSize?: number \r\n}","import React, {FC} from 'react'\r\nimport s from './Users.module.css'\r\nimport userPhoto from '../../assets/images/images.jpg'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {UserType} from '../../type/type'\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n\r\n}\r\nexport const User: FC<UserPropsType> = React.memo(({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <div className={s.imgGroup}>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.large != null ? user.photos.large : userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {(user.followed\r\n\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n\r\n                        }}>FOLLOW</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>UNFOLLOW</button>)}\r\n\r\n                </div>\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n                <div>{'user.adress.country'}</div>\r\n                <div>{'user.adress.city'}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n","import React, { FC } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport {UsersSearchFilterType} from './../../redux/users-reducer'\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n  const errors = {}\r\n  return errors\r\n}\r\n\r\n\r\n\r\nconst UsersSearchForm: FC<PropsType> = React.memo((props) => {\r\ndebugger\r\n  const submit = (values: FormValueType, {setSubmitting}:{ setSubmitting: (isSubmitting: boolean) => void}) => {\r\n    const filter: UsersSearchFilterType = {\r\n      term: values.term,\r\n      friend: (values.friend === 'null')? null : (values.friend === 'true') ? true : false\r\n    }\r\n    props.onFilterChanged(filter)\r\n    setSubmitting(false)\r\n  }\r\n\r\n  return <div>\r\n    <Formik initialValues={{ term: '', friend: 'null' }} validate={usersSearchFormValidate} onSubmit={submit} >\r\n      {({ isSubmitting }) => (\r\n        <Form>\r\n          <Field type=\"text\" name=\"term\" />\r\n          <Field name=\"friend\" as=\"select\" >\r\n             <option value=\"null\">all</option>\r\n             <option value='true'>only followed</option>\r\n             <option value='false'>only unfollowed</option>\r\n    \r\n           </Field>\r\n          \r\n          <button type=\"submit\" disabled={isSubmitting}>\r\n            FIND\r\n          </button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  </div>\r\n})\r\nexport default UsersSearchForm\r\n\r\ntype PropsType = {\r\n  onFilterChanged: (filter: UsersSearchFilterType) => void\r\n}\r\ntype FormValueType = {\r\n  \r\n    term: string\r\n    friend: 'null' | 'true' | 'false'\r\n  \r\n}","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n    return items.map((u: any) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {BaseThunkType, InferActionType} from './redux-store'\r\nimport {usersApi} from \"../api/users-api\"\r\nimport {DispatchType, UserType} from \"../type/type\"\r\nimport {updateObjectInArray} from '../utils/object-helpers'\r\nimport {ApiResponseType} from '../api/api'\r\n\r\nexport let initialState = {\r\n    users: [] as Array<UserType>,\r\n    totalUsersCount: 0,\r\n    pageSize: 10,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>, //array of users id\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n\r\n            }\r\n\r\n        case 'SN/USERS/UNFOLLOW':\r\n\r\n            return {\r\n\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n            }\r\n        case 'SN/USERS/SET_USERS':\r\n            return { ...state, users: action.users }\r\n\r\n        case 'SN/USERS/SET_CURRENT_PAGE':\r\n            return { ...state, currentPage: action.page }\r\n\r\n        case 'SN/USERS/SET_USERS_SEARCH_FILTER':\r\n            return { ...state, filter: action.payload }\r\n\r\n        case 'SN/USERS/SET_USERS_TOTAL_COUNT':\r\n            return { ...state, totalUsersCount: action.count }\r\n\r\n        case 'SN/USERS/TOGGLE_IS_FETCHING':\r\n            return { ...state, isFetching: action.isFetching }\r\n\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const action = {\r\n\r\n    getFollow: (userId: number) => ({ type: 'SN/USERS/FOLLOW', userId } as const),\r\n\r\n    getUnfollow: (userId: number) => ({ type: 'SN/USERS/UNFOLLOW', userId } as const),\r\n\r\n    setUsers: (users: Array<UserType>) => ({ type: 'SN/USERS/SET_USERS', users } as const),\r\n\r\n    setCurrentPage: (page: number) => ({ type: 'SN/USERS/SET_CURRENT_PAGE', page } as const),\r\n\r\n    setUsersSearchFilter: (filter: UsersSearchFilterType) => ({ type: 'SN/USERS/SET_USERS_SEARCH_FILTER', payload: filter} as const),\r\n\r\n    setUsersTotalCount: (count: number) => ({ type: 'SN/USERS/SET_USERS_TOTAL_COUNT', count } as const),\r\n\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching } as const),\r\n\r\n    toggleIsFollowingProgress: (isFetching: boolean, userId: number) => (\r\n        { type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const),\r\n}\r\n\r\nexport const requestUsers = (pageSize: number, currentPage: number, filter: UsersSearchFilterType  ): ThunkType => async (dispatch) => {\r\n\r\n    dispatch(action.toggleIsFetching(true))\r\n    dispatch(action.setCurrentPage(currentPage as number))\r\n    dispatch(action.setUsersSearchFilter(filter))\r\n\r\n    let data = await usersApi.getUsers(pageSize, currentPage, filter.term, filter.friend)\r\n\r\n    dispatch(action.toggleIsFetching(false))\r\n    dispatch(action.setUsers(data.items))\r\n    dispatch(action.setUsersTotalCount(data.totalCount))\r\n    console.log(initialState.filter)\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: DispatchType<ActionType>,\r\n                                    userId: number,\r\n                                    actionCreator: (userId: number) => ActionType, apiMethod: (userId: number) => Promise<ApiResponseType>) => {\r\n    dispatch(action.toggleIsFollowingProgress(true, userId))\r\n    dispatch(action.toggleIsFetching(true))\r\n    let data = await apiMethod(userId)\r\n    dispatch(action.toggleIsFetching(false))\r\n    dispatch(action.toggleIsFollowingProgress(false, userId))\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n}\r\nexport const unfollow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersApi.getUnfollow.bind(usersApi)\r\n        let actionCreator = action.getUnfollow\r\n\r\n        _followUnfollowFlow(dispatch, userId, actionCreator, apiMethod)\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersApi.getFollow.bind(usersApi)\r\n        let actionCreator = action.getFollow\r\n        _followUnfollowFlow(dispatch, userId, actionCreator, apiMethod)\r\n\r\n    }\r\n}\r\nexport default usersReducer\r\n\r\ntype InitialStateType = typeof initialState\r\nexport type UsersSearchFilterType = typeof initialState.filter\r\ntype ActionType = InferActionType<typeof action>\r\ntype ThunkType = BaseThunkType<ActionType>","import { createSelector } from 'reselect'\r\nimport { AppStateType } from './redux-store'\r\n\r\nconst getUserSelector = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUser = createSelector (getUserSelector, (users) => {\r\n    return users.filter(u => true)\r\n}) \r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsersSearchFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\n","import React, {FC, useEffect} from 'react'\r\nimport s from './Users.module.css'\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport {User} from './User'\r\nimport UsersSearchForm from './UsersSearchForm'\r\nimport {requestUsers, UsersSearchFilterType} from '../../redux/users-reducer'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUser,\r\n    getUsersSearchFilter\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nexport const Users: FC<UsersPropsType> = React.memo(() => {\r\n\r\n    const users = useSelector(getUser)\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const pageSize = useSelector(getPageSize)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const filter = useSelector(getUsersSearchFilter)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(requestUsers(pageSize, currentPage, filter))\r\n    }, [])\r\n\r\n    const onPageChanged = (numberPage: number) => {\r\n        dispatch(requestUsers(pageSize, numberPage, filter))\r\n    }\r\n    const onFilterChanged = (filter: UsersSearchFilterType) => {\r\n        dispatch(requestUsers(1, currentPage, filter))\r\n    }\r\n    const follow = (userId: number) => {\r\n        dispatch(follow(userId))\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollow(userId))\r\n    }\r\n\r\n\r\n    return <div className={s.users}>\r\n\r\n        <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n\r\n        <Paginator totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n        />\r\n\r\n        {users.map(u => <User key={u.id} user={u}\r\n                              followingInProgress={followingInProgress}\r\n                              unfollow={unfollow}\r\n                              follow={follow}/>)}\r\n\r\n\r\n    </div>\r\n\r\n\r\n})\r\n\r\n\r\ntype UsersPropsType = {}","import React, {FC} from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {Users} from './Users'\r\nimport {getIsFetching} from '../../redux/users-selectors'\r\nimport Preloader from '../common/Preload/Preload'\r\n\r\nexport const UsersContainer: FC<PropsType> = () => {\r\n\r\n    const isFetching = useSelector(getIsFetching)\r\n\r\n    return (\r\n        <div>\r\n            <h2>Samurai</h2>\r\n            {isFetching ? <Preloader/> : null}\r\n            <Users/>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype PropsType = {}\r\n\r\n\r\n\r\n\r\n\r\n","import React, {FC} from 'react'\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\ntype HeaderPropsType = {\r\n  isAuth: boolean\r\n  login: string | null\r\n  logout: () => void\r\n  // logout: MouseEvent<HTMLButtonElement, MouseEvent>\r\n  \r\n}\r\n// type React.MouseEventHandler<T = Element> = (event: MouseEvent<T, globalThis.MouseEvent>) => void\r\nconst Header: FC<HeaderPropsType>= (props) => {\r\n \r\n    return (\r\n      <header className={s.header}>\r\n        <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRM3WE3ToDdtDACBRZJZNbQotVA3Dp26QpYcQ&usqp=CAUhttps://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRM3WE3ToDdtDACBRZJZNbQotVA3Dp26QpYcQ&usqp=CAU'/>\r\n        <div className={s.loginBlock}>\r\n          {props.isAuth\r\n          ? <div>{ props.login } - <button onClick={props.logout}>Log out</button></div>\r\n          :<NavLink to='/login'>LOGIN</NavLink>}\r\n        </div>\r\n      </header>)\r\n}\r\nexport default Header","import { instance, ApiResponseType, ResultCodeEnum, ResultCodeForCaptchaEnum } from \"./api\"\r\n\r\n\r\n\r\n\r\nexport const authApi = {\r\n    me () {\r\n        return instance.get<ApiResponseType<MeResponseDataType>>('auth/me').then (response => response.data)\r\n    },\r\n    login (email: string, password: string, rememberMe=false, captcha=null as string | null) {\r\n        return instance.post<ApiResponseType<LoginResponseDataType, ResultCodeEnum | ResultCodeForCaptchaEnum>>('auth/login', {email, password, rememberMe, captcha }).then (response => response.data)\r\n    },\r\n    \r\n    logout () {\r\n        return instance.delete('auth/login').then (response => response.data)\r\n    }\r\n}\r\n\r\ntype MeResponseDataType = {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    \r\n}\r\ntype LoginResponseDataType = {\r\n    userId: number\r\n}","import {ResultCodeEnum, ResultCodeForCaptchaEnum } from \"../api/api\"\r\nimport { FormAction, stopSubmit } from \"redux-form\"\r\nimport { BaseThunkType, InferActionType } from \"./redux-store\"\r\nimport { authApi } from \"../api/auth-api\"\r\nimport { sequrityApi } from \"../api/sequrity-api\"\r\n\r\nlet inicialState = {\r\n    userId: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: undefined as string | undefined,\r\n}\r\n\r\nconst authReducer = (state = inicialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/AUTH/SET-USER-DATA':\r\n        case 'SN/AUTH/GET-CAPTCHA-URL':\r\n\r\n            return {\r\n\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst action = {\r\n\r\n    setAuthUserData: (userId: number | null, login: string | null, email: string | null, isAuth: boolean) => {\r\n        return ({ type: 'SN/AUTH/SET-USER-DATA', payload: { userId, login, email, isAuth } })\r\n    },\r\n\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => {\r\n        return ({ type: 'SN/AUTH/GET-CAPTCHA-URL', payload: { captchaUrl } })\r\n    },\r\n}\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n\r\n    let data = await authApi.me()\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n\r\n        let { id, login, email } = data.data\r\n        dispatch(action.setAuthUserData(id, login, email, true)\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let data = await authApi.login(email, password, rememberMe, captcha)\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'some error'\r\n        dispatch(stopSubmit('login', { _error: message }))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n\r\n    const response = await sequrityApi.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(action.getCaptchaUrlSuccess(captchaUrl)\r\n    )\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n\r\n    let data = await authApi.logout()\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(action.setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer \r\n\r\ntype InitialStateType = typeof inicialState\r\ntype ActionType = InferActionType<typeof action>\r\ntype ThunkType = BaseThunkType<ActionType | FormAction>","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { logout} from '../../redux/auth-reducer'\r\nimport { AppStateType } from '../../redux/redux-store'\r\n\r\nexport type MSPropsType ={\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\ntype MDPropsType = {logout: () => void}\r\ntype OwnPropsType = {}\r\ntype HeaderConteinerType = MSPropsType & MDPropsType & OwnPropsType\r\n\r\nclass HeaderContainer extends React.Component<HeaderConteinerType> {\r\n\r\n    \r\n    render  ()  {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MSPropsType => {\r\n    return{\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{logout}) (HeaderContainer)","import { getAuthUserData } from './auth-reducer'\r\nimport { BaseThunkType, InferActionType } from './redux-store'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/APP/INITIALIZED_SUCCESS':\r\n\r\n            return { ...state, initialized: action.initialized }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst action = {\r\n    setInitialized: (initialized: boolean) => ({ type: 'SN/APP/INITIALIZED_SUCCESS', initialized } as const)\r\n}\r\n\r\nexport const initializeApp = (): ThunkType => async (dispatch) => {\r\n    await dispatch(getAuthUserData())\r\n    dispatch(action.setInitialized(true))\r\n}\r\n\r\nexport default appReducer\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionType = InferActionType<typeof action>\r\ntype ThunkType = BaseThunkType<ActionType>\r\n","import { createStore, combineReducers, applyMiddleware, compose, Action } from\"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport appReducer from \"./app-reducer\"\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet rootReducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,})\r\n\r\n  \r\n\r\n//@ts-ignore    \r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(rootReducers, /* preloadedState, */ composeEnhancers(\r\n        applyMiddleware(thunkMiddleware)\r\n      ));\r\n//@ts-ignore\r\nwindow.__store__ = store\r\n    \r\nexport default store    \r\n\r\ntype RootReducerType = typeof rootReducers\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// type PropertiesType<T> = T extends {[key: string]: infer U}? U: never\r\n// export type InferActionType<T extends {[key:string]: (...arg:any) => any}> = ReturnType<PropertiesType<T>>\r\nexport type InferActionType<T> = T extends {[key:string]: (...arg:any) => infer U}? U: never\r\n\r\nexport type BaseThunkType<A extends Action, R=Promise<void>> = ThunkAction<R, AppStateType, unknown, A>","import React from 'react'\r\nimport Preloader from '../components/common/Preload/Preload'\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    return ( (props: WCP) => {\r\n        return <React.Suspense fallback={<Preloader/>} >\r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n    })\r\n}\r\n","import React, {ComponentType, useEffect} from 'react';\r\nimport './App.css';\r\n\r\nimport Navbar from './components/Navbar/Navbar';\r\n\r\nimport {BrowserRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom'\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport {UsersContainer} from './components/Users/UsersContainerWithHooks';\r\n// import ProfileContainer from './components/Profile/ProfileInfo/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\n// import Login from './components/Login/Login';\r\nimport {compose} from 'redux';\r\nimport {connect, Provider} from 'react-redux';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport Preloader from './components/common/Preload/Preload';\r\nimport store, {AppStateType} from './redux/redux-store';\r\nimport {withSuspense} from './hoc/withSuspense';\r\n\r\nconst DialogsContainer: React.FC = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainerWithHooks'))\r\nconst Login = React.lazy(() => import('./components/Login/Login'))\r\n\r\nconst ProfileSuspensed = withSuspense(ProfileContainer)\r\nconst DialogsSuspensed = withSuspense(DialogsContainer)\r\nconst LoginSuspensed = withSuspense(Login)\r\n\r\nconst App: React.FC<AppPropsType> = (props) => {\r\n\r\n    const catchAllUnhandledErrors = (event: PromiseRejectionEvent) => {\r\n\r\n        // alert(PromiseRejectionEvent.reason)\r\n        console.log(event.reason)\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.initializeApp()\r\n        window.addEventListener('unhandledrejection', catchAllUnhandledErrors)\r\n        // setTimeout(window.removeEventListener('unhandledrejection', catchAllUnhandledErrors), 3000)\r\n    },[])\r\n\r\n    if (!props.initialized) { return <Preloader /> } \r\n    return (\r\n\r\n        <div className=\"app-wrapper\">\r\n            <HeaderContainer />\r\n            <Navbar />\r\n            <div className='app-wrapper-content'>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <Redirect to={'/profile'} />} />\r\n                    <Route path='/users' render={() => <UsersContainer />} />\r\n                    <Route path='/profile/:userId?' render={() => <ProfileSuspensed />} />\r\n                    <Route path='/dialogs' render={() => <DialogsSuspensed />} />\r\n                    <Route path='/news' component={News} />\r\n                    <Route path='/music' component={Music} />\r\n                    <Route path='/settings' component={Settings} />\r\n                    <Route path='/login' render={() => <LoginSuspensed />} />\r\n                    <Route path='*' render={() => <div>404 NOT FOUND</div>} />\r\n                </Switch>\r\n            </div>\r\n\r\n        </div>)\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\nconst AppContainer = compose<ComponentType>(\r\n    connect(mapStateToProps, { initializeApp }),\r\n    withRouter)\r\n    (App)\r\n\r\nconst SamuraiJSApp: React.FC = () => {\r\n    return <BrowserRouter>\r\n\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n\r\n    </BrowserRouter>\r\n}\r\nexport default SamuraiJSApp\r\n\r\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>\r\ntype MapDispatchPropsType = {\r\n    initializeApp: () => void\r\n}\r\nexport type AppPropsType = MapStatePropsType & MapDispatchPropsType","\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from './App';\r\n\r\n\r\n    \r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <SamuraiJSApp  />\r\n    </React.StrictMode>,       \r\n    document.getElementById('root')\r\n        \r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\nserviceWorker.unregister()","export default __webpack_public_path__ + \"static/media/preload.60f7b3a7.gif\";","import React, { FC } from 'react'\r\nimport preload from '../../../assets/images/preload.gif'\r\n\r\n\r\nconst Preloader: FC<PropsType> = () => {\r\n    return (\r\n    <div >\r\n        \r\n            <img src={preload} />\r\n        \r\n    </div> )\r\n}\r\nexport default Preloader\r\ntype PropsType = {\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgGroup\":\"Users_imgGroup__16aaO\",\"pageNow\":\"Users_pageNow__3SrGm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3c3sx\",\"friend\":\"Sidebar_friend__-B9xJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorPage\":\"Paginator_paginatorPage__1GEVW\",\"pageNumber\":\"Paginator_pageNumber__11Cxf\",\"selectedPage\":\"Paginator_selectedPage__1GOpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1ebQe\",\"loginBlock\":\"Header_loginBlock__381Ib\"};","import { ProfileType, PhotosType } from './../type/type';\r\n// import * as axios from './node_modules/axios'\r\nimport axios from 'axios'\r\nimport { UserType } from '../type/type'\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    headers:{'API-KEY': '5aa09784-d22f-4e5d-a150-2a2cb2653fa2'},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type ApiResponseType<T={}, RC=ResultCodeEnum> = {\r\n    data: T\r\n    resultCode: RC\r\n    messages: Array<string>\r\n}\r\n\r\n\r\n\r\n","import { PhotosType, ProfileType } from \"../type/type\"\r\nimport { instance, ApiResponseType } from \"./api\"\r\n\r\nexport const profileApi = {\r\n    getProfileUser (userId: number | null) {\r\n        \r\n        return instance.get<ProfileType>('profile/'+ userId)\r\n        .then (response => response.data)\r\n    },\r\n    getStatus (userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`)\r\n        .then (response => response.data)\r\n    },\r\n    updateStatus (status: string) {\r\n        return instance.put<ApiResponseType>(`profile/status`, {status: status} )\r\n        .then (response => response.data)\r\n    },\r\n    saveProfile (profile: ProfileType) {\r\n        \r\n        return instance.put<ApiResponseType<ProfileType>>(`profile`, profile )\r\n        .then (response => response.data)\r\n    },\r\n    savePhoto (photoFile: File) {\r\n        debugger\r\n        const formData = new FormData ()\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put<ApiResponseType<SavePhotoDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then (response => response.data)\r\n    }\r\n}\r\n\r\ntype SavePhotoDataType = {\r\n    photos: PhotosType\r\n}","import { FormAction } from 'redux-form';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ResultCodeEnum } from \"../api/api\"\r\nimport { profileApi } from \"../api/profile-api\"\r\nimport { PhotosType, PostType, ProfileType, PropertiesType } from \"../type/type\"\r\nimport { BaseThunkType, InferActionType } from \"./redux-store\"\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, likeCount: 14, message: 'Hi! The day is fine!' },\r\n        { id: 2, likeCount: 15, message: 'Yes! You are right!' },\r\n        { id: 3, likeCount: 19, message: 'But sametime verry hot' },\r\n        { id: 4, likeCount: 9, message: 'Yes! You are right!' }\r\n    ] as Array<PostType>,\r\n    newPostText: '',\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/ADD_POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                likeCount: 0,\r\n                message: action.message,\r\n            }\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [...state.posts, newPost]\r\n            }\r\n        }\r\n\r\n        case 'SN/PROFILE/SET_USER_PROFILE': {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case 'SN/PROFILE/SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case 'SN/PROFILE/DELETE_POST': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.userId)\r\n            }\r\n        }\r\n        case 'SN/PROFILE/SAVE_PHOTO_SECCUSS': {\r\n            debugger\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos } as ProfileType\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const action = {\r\n\r\n    addPost: (message: string) => ({ type: 'SN/PROFILE/ADD_POST', message } as const ),\r\n\r\n\r\n    setUserProfile: (profile: ProfileType) => ({ type: 'SN/PROFILE/SET_USER_PROFILE', profile } as const ),\r\n\r\n\r\n    setStatus: (status: string) => ({ type: 'SN/PROFILE/SET_STATUS', status } as const ),\r\n\r\n\r\n    deletePost: (userId: number) => ({ type: 'SN/PROFILE/DELETE_POST', userId } as const ),\r\n\r\n\r\n    savePhotoSuccess: (photos: PhotosType) => ({ type: 'SN/PROFILE/SAVE_PHOTO_SECCUSS', photos } as const ),\r\n\r\n}\r\n\r\nexport const getUserProfile = (userId: number ): ThunkType => async (dispatch) => {\r\n    let response = await profileApi.getProfileUser(userId)\r\n    dispatch(action.setUserProfile(response))\r\n\r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    let data = await profileApi.getStatus(userId)\r\n    dispatch(action.setStatus(data))\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    let data = await profileApi.updateStatus(status)\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(action.setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    debugger\r\n    let data = await profileApi.savePhoto(file)\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(action.savePhotoSuccess(data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    \r\n    let userId = getState().auth.userId\r\n    let data = await profileApi.saveProfile(profile)\r\n\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        if (userId != null){\r\n            dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId not can't be null\")}\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: data.messages[0]}))\r\n        return Promise.reject(data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionType = InferActionType<typeof action>\r\ntype ThunkType = BaseThunkType<ActionType | FormAction>","export default \"data:image/jpeg;base64,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\"","import { DialogType, MessageType } from \"../type/type\"\r\nimport { InferActionType } from \"./redux-store\"\r\n\r\nexport let initialState = {\r\n\r\n    myMessages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How is your IT-kamasutra?' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' },\r\n        { id: 5, message: 'Yo' }\r\n    ] as Array<MessageType>,\r\n    friendsMessages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Ok.I am very want learn this' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' },\r\n        { id: 5, message: 'Yo' }\r\n    ] as Array<MessageType>,\r\n    dialogs: [\r\n        { id: 1, name: 'Gleb' },\r\n        { id: 2, name: 'Bogdan' },\r\n        { id: 3, name: 'Olya' },\r\n        { id: 4, name: 'Sergey' },\r\n        { id: 5, name: 'Dimich' },\r\n        { id: 6, name: 'Tanya' }\r\n    ] as Array<DialogType>,\r\n    newMessageBody: '',\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/DIALOGS/SEND_MESSAGE':\r\n            let body = action.newMessage\r\n            return {\r\n                ...state,\r\n\r\n                myMessages: [...state.myMessages, { id: 6, message: body }]\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const action = {\r\n    sendMessage: (newMessage: string) => ({ type: 'SN/DIALOGS/SEND_MESSAGE', newMessage } as const),\r\n}\r\n\r\nexport default dialogsReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionType = InferActionType<typeof action>"],"sourceRoot":""}