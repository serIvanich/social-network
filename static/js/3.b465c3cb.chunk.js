(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{302:function(t,e,s){t.exports={pic:"ProfileInfo_pic__1L8cc",descriptionBlock:"ProfileInfo_descriptionBlock__YAhUn",userPhoto:"ProfileInfo_userPhoto__1z6AJ",contact:"ProfileInfo_contact__2Gr2r",status:"ProfileInfo_status__1Ygyi"}},304:function(t,e,s){"use strict";s.d(e,"a",(function(){return j}));var c=s(3),n=s(71),i=(s(0),s(12)),o=s(13),r=s(1),a=function(t){return{isAuth:t.auth.isAuth}};function j(t){return Object(i.b)(a)((function(e){e.isAuth;var s=Object(n.a)(e,["isAuth"]);return!1===e.isAuth?Object(r.jsx)(o.a,{to:"/login"}):Object(r.jsx)(t,Object(c.a)({},s))}))}},305:function(t,e,s){t.exports={content:"Profile_content__RvC_o"}},306:function(t,e,s){t.exports={postBlock:"MyPosts_postBlock__2dyho"}},307:function(t,e,s){t.exports={item:"Post_item__Cw6P8"}},308:function(t,e,s){"use strict";s.r(e);var c=s(3),n=s(0),i=s.n(n),o=s(305),r=s.n(o),a=s(102),j=s(302),l=s.n(j),u=s(42),b=s(1),d=function(t){var e=t.status,s=t.updateStatus,c=Object(n.useState)(!1),i=Object(a.a)(c,2),o=i[0],r=i[1],j=Object(n.useState)(e),u=Object(a.a)(j,2),d=u[0],O=u[1];Object(n.useEffect)((function(){O(e)}),[e]);return Object(b.jsxs)("div",{children:[!o&&Object(b.jsxs)("div",{className:l.a.status,children:[Object(b.jsx)("b",{children:"my status: "}),Object(b.jsx)("span",{onDoubleClick:function(){r(!0)},children:e||"-----"})]}),o&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),s(d)},onChange:function(t){O(t.currentTarget.value)},value:e})})]})},O=s(135),f=s(30),h=s(43),p=s.n(h),x=Object(O.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,c=t.error;return Object(b.jsxs)("form",{onSubmit:e,children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:" save "})}),c&&Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:p.a.formSummaryError,children:c})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"about me:"})," ",Object(f.c)("about me","aboutMe",[],f.b)]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"my full name:"})," ",Object(f.c)("full name","fullName",[],f.a)]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"looking for a job:"})," ",Object(f.c)("","lookingForAJob",[],f.a,{type:"checkbox"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"my skills:"})," ",Object(f.c)("my skills","lookingForAJobDescription",[],f.b)]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"contacts:"})," ",Object.keys(s.contacts).map((function(t){return Object(b.jsxs)("div",{className:l.a.contact,children:[Object(b.jsxs)("b",{children:[t,":"]})," ",Object(f.c)(t,"contacts."+t,[],f.a)," "]},t)}))]})]})})),m=function(t){var e=t.contactTitle,s=t.contactValue;return Object(b.jsxs)("div",{className:l.a.contact,children:[Object(b.jsxs)("b",{children:[e,":"]})," ",s]})},v=function(t){var e=t.profile,s=t.isOwner,c=t.goToEditMode;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"about me:"})," ",e.aboutMe]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"my full name:"})," ",e.fullName]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"my skills:"})," ",e.lookingForAJobDescription]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"contacts:"})," ",Object.keys(e.contacts).map((function(t){return Object(b.jsx)(m,{contactTitle:t,contactValue:e.contacts[t]},t)}))]}),s&&Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:c,children:" edit "})})]})},g=s(113),P=function(t){var e=Object(n.useState)(!1),s=Object(a.a)(e,2),c=s[0],i=s[1],o=Object(n.useState)(!1),r=Object(a.a)(o,2),j=r[0],O=r[1];if(!t.profile)return Object(b.jsx)(u.a,{});var f=function(){O(!1)};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:l.a.pic,children:Object(b.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTD_0HFgQ9KsHOm4FF55__N9ZsFgXHXB9JxDg&usqp=CAU"})}),Object(b.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(b.jsx)("img",{title:"change",onClick:function(){O(!0)},src:t.profile.photos.small||t.profile.photos.large||g.a,className:l.a.userPhoto}),j&&Object(b.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&(t.savePhoto(e.target.files[0]),f())}}),t.isOwner&&Object(b.jsx)(d,{status:t.status,updateStatus:t.updateStatus})||Object(b.jsx)("div",{className:l.a.status,children:t.status}),c?Object(b.jsx)(x,{initialValues:t.profile,profile:t.profile,onSubmit:function(e){t.saveProfile(e).then((function(){i(!1)}))}}):Object(b.jsx)(v,{goToEditMode:function(){i(!0)},profile:t.profile,isOwner:t.isOwner})]})]})},_=s(41),k=s(306),y=s.n(k),S=s(307),A=s.n(S),N=function(t){var e=t.name,s=t.message,c=t.likeCount;return Object(b.jsxs)("div",{className:A.a.item,children:[Object(b.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRMx6nyE6BtBUpxyikA6w1afyKRpCc1M38QrA&usqp=CAU"}),e,":____ ",s,Object(b.jsxs)("div",{children:["-like-",c]})]})},w=s(51),C=Object(w.a)(15),I=Object(O.a)({form:"post"})((function(t){var e=t.handleSubmit;return Object(b.jsxs)("form",{onSubmit:e,children:[Object(f.c)(void 0,"message",[w.b,C],f.b),Object(b.jsx)("button",{children:"add post"})]})})),B=function(t){var e=Object(_.a)(t.posts).reverse().map((function(t){return Object(b.jsx)(N,{name:String(t.id),likeCount:t.likeCount,message:t.message},t.id)}));return Object(b.jsxs)("div",{className:y.a.postBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)(I,{onSubmit:function(e){t.addPost(e.message)}}),Object(b.jsx)("div",{className:y.a.posts,children:e})]})},F=i.a.memo(B),U=s(12),J=s(103),M=Object(U.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:J.a.addPost})(F),E=function(t){return Object(b.jsxs)("div",{className:r.a.content,children:[Object(b.jsx)(P,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(b.jsx)(M,{})]})},T=s(13),D=s(304),q=s(10);e.default=Object(q.d)(T.g,D.a,Object(U.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:J.d,getStatus:J.c,updateStatus:J.g,savePhoto:J.e,saveProfile:J.f}))((function(t){return Object(n.useEffect)((function(){var e=+t.match.params.userId;e||(e=t.authorizedUserId)||t.history.push("/login"),e?(t.getUserProfile(e),t.getStatus(e)):console.error("Id should exists in URL param or in state(authorizedUserId)")}),[t.match.params.userId]),Object(b.jsx)(E,Object(c.a)(Object(c.a)({},t),{},{profile:t.profile,saveProfile:t.saveProfile,status:t.status,updateStatus:t.updateStatus,isOwner:!t.match.params.userId,savePhoto:t.savePhoto}))}))}}]);
//# sourceMappingURL=3.b465c3cb.chunk.js.map